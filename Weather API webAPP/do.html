<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Weather API Web App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">My Weather App</a>
            <form class="d-flex" role="search" id="search-form">
                <input class="form-control me-2" type="search" placeholder="Eg Shimla,Dubai,Paris" aria-label="Search" autofocus="">
                <button class="btn btn-outline-info"  type="submit"  >Search</button>
            </form>
        </div>
    </nav>
    <div class="container">
        <h1 class="my-4 text-center">Weather for <span id="city-name">Delhi</span></h1>
        
        <main>
            <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">
                <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm bg-dark text-white">
                        <div class="card-header py-3">
                            <h4 class="my-0 fw-normal">Temperature</h4>
                        </div>
                        <div class="card-body">
                            <h1 class="card-title pricing-card-title" id="temperature"></h1>
                            <ul class="list-unstyled mt-3 mb-4">

                                <li id="min_temp"></li>
                                <li id="max_temp"></li>

                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm bg-dark text-white">
                        <div class="card-header py-3">
                            <h4 class="my-0 fw-normal">Humidity</h4>
                        </div>
                        <div class="card-body">
                            <h1 class="card-title pricing-card-title" id="humidity"></h1>
                            <ul class="list-unstyled mt-3 mb-4"> 

                                <li id="feels_like"></li>
                                <p id="cloud_pct"></p>

                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm border-primary bg-dark text-white">
                        <div class="card-header py-3">
                            <h4 class="my-0 fw-normal">Wind</h4>
                        </div>
                        <div class="card-body">
                            <h1 class="card-title pricing-card-title" id="wind-speed"></h1>
                            <ul class="list-unstyled mt-3 mb-4">
                                 
                                <li id="wind_degree"></li>
                                <li id="sunrise"></li>
                                <li id="sunset"></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>


            <div class="container px-4 py-5" id="hanging-icons">
                <h2 class="pb-2 border-bottom">Nearby Cities</h2>
                <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
                  <div class="col d-flex align-items-start">
                    <div class="icon-square text-body-emphasis bg-body-secondary d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3">
                      <svg class="bi" width="1em" height="1em" "><use xlink:href="#toggles2 "></use></svg>
                    </div>
                    <div>
                      <h3 class="fs-2 ">Faridabad</h3>
                      <p id="Temperature">Temperature</p>
                      
                     
                    </div>
                  </div>
                  <div class="col d-flex align-items-start">
                    <div class="icon-square text-body-emphasis bg-body-secondary d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3">
                      <svg class="bi" width="1em" height="1em"><use xlink:href="#cpu-fill"></use></svg>
                    </div>
                    <div>
                      <h3 class="fs-2 text-body-emphasis">Noida</h3>
                      <p id="Temperature">Temperature</p>
                    
                  
                    </div>
                  </div>
                  <div class="col d-flex align-items-start">
                    <div class="icon-square text-body-emphasis bg-body-secondary d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3">
                      <svg class="bi" width="1em" height="1em"><use xlink:href="#tools"></use></svg>
                    </div>
                    <div>
                      <h3 class="fs-2 text-body-emphasis">Gurgaon</h3>
                      <p id="Temperature" >Temperature</p>
                      
                  
                    </div>
                  </div>
                </div>
              </div>
        </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <script>
     async function fetchWeather(city) {
    const url = `https://weather-by-api-ninjas.p.rapidapi.com/v1/weather?city=${city}`;
    const options = {
      method: 'GET',
      headers: {
        'X-RapidAPI-Key': 'e578550928msh8698cd8ef8a863bp1510e7jsn228e7a50559b',
        'X-RapidAPI-Host': 'weather-by-api-ninjas.p.rapidapi.com'
      }
    };
  
    try {
      const response = await fetch(url, options);
      const result = await response.json();
      console.log(result);
  
      // Update the IDs and textContent assignments for the elements
      document.getElementById('temperature').textContent = `${result.temp}째C`;
      document.getElementById('feels_like').textContent = `Feels like ${result.feels_like}째C`;
      document.getElementById('min_temp').textContent = `Min Temp ${result.min_temp}째C`;
      document.getElementById('max_temp').textContent = `Max Temp ${result.max_temp}째C`;
      document.getElementById('humidity').textContent = `${result.humidity}%`;
      document.getElementById('wind-speed').textContent = `${result.wind_speed} km/hr`;
      document.getElementById('wind-degree').textContent = `Wind Degrees ${result.wind_deg}`;
      document.getElementById('sunrise').textContent = `Sunrise ${result.sunrise}`;
      document.getElementById('sunset').textContent = `Sunset ${result.sunset}`;
      document.getElementById('cloud_pct').textContent = `Cloud Percentage ${result.cloud_pct}%`;
    } catch (error) {
      console.error(error);
    }
  }
  

  function fetchFaridabadWeather() {
  fetchWeather('Faridabad', 'Temperature-fbd');
}

function fetchGurgaonWeather() {
  fetchWeather('Gurgaon', 'Temperature-ggn');
}

function fetchNoidaWeather() {
  fetchWeather('Noida', 'Temperature-noida');
}

document.getElementById('search-form').addEventListener('submit', function (event) {
  event.preventDefault();
  const city = document.getElementById('search-form').querySelector('input').value;
  document.getElementById('city-name').textContent = city;
  fetchWeather(city, 'temperature');
});

fetchWeather('Delhi', 'temperature');
fetchFaridabadWeather();
fetchGurgaonWeather();
fetchNoidaWeather();
  
    </script>
</body>

</html>